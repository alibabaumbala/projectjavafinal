<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title>XIN CHÀO</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/index.css">
  <link rel="stylesheet" href="/css/listhotel.css">
  <link rel="stylesheet" href="/css/custome-tab.css">

  <!-- icon -->
  <!-- <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <!-- bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>

  <!-- SLICK SLIDER -->
  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
  <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

  <!-- RESPONSIVE -->
  <link rel="stylesheet" href="/css/esponsive.css">

  <!-- JQUERY-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <!-- FONT HELGA -->
  <style>
    @font-face {
      src: url(/font/SVN-Helga.otf);
      font-family: helga
    }
  </style>
</head>
<body>
<div>
  <div class="row log-page">
    <!-- ẢNH -->
    <div class="col-md-8 log-page-img p-0">
      <div></div>
    </div>
    <!-- THÔNG TIN -->
    <div class="col-md-4 log-page-info p-0">
      <div>
        <div class="log-logo">
          <div class="log-logo-item">
            <img src="https://storage.googleapis.com/vin3sprodauth0.vin3s.vn/vinpearl_login_logo-01.png" alt="">
            <img src="https://muongthanh.com/images/config/hospitality-01_1573530857.png" alt="">
          </div>
        </div>
        <div class="tab-log">
          <div>
            <nav>
              <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
                <a class="nav-item nav-link active" id="nav-login-tab" data-toggle="tab" href="#nav-login" role="tab" aria-controls="nav-login" aria-selected="true" style="font-size: 16px; ">Đăng nhập</a>
                <a class="nav-item nav-link" id="nav-register-tab" data-toggle="tab" href="#nav-register" role="tab" aria-controls="nav-register" aria-selected="false" style="font-size: 16px; ">Đăng ký</a>
              </div>
            </nav>
            <div class="tab-content" id="nav-tabContent">
<!--              ĐĂNG NHẬP-->
              <div class="tab-pane fade show active" id="nav-login" role="tabpanel" aria-labelledby="nav-login-tab">
                <div class="tab-pane fade show active" id="nav-login" role="tabpanel" aria-labelledby="nav-login-tab">
                  <form method="POST" enctype="multipart/form-data" action="/login" th:object="${user}">
                    <div class="login-input">
                      <div class="login-input-item">
                        <input type="email" placeholder="Email" class="form-control" id="emailLogin" required name="emailLogin" th:field="*{email}">
                      </div>
                      <div class="login-input-item">
                        <input type="password" placeholder="Mật khẩu / Password" class="form-control" id="passwordLogin" required name="passwordLogin" th:field="*{password}">
                      </div>
                    </div>
                    <div class="remember_forgot">
                      <p style="font-size: 14px;"><input type="checkbox" name="" id="" >Nhớ mật khẩu</p>
                      <a href="/forgot">Quên mật khẩu</a>
                    </div>
                    <div class="btn">
                      <button type="submit">ĐĂNG NHẬP</button>
                    </div>
                    <b th:text="${errLogin}" style="color:#a50000;font-size: 16px"></b>
                  </form>
                </div>
              </div>
<!--              ĐĂNG KÝ-->
              <div class="tab-pane fade" id="nav-register" role="tabpanel" aria-labelledby="nav-register-tab">
                <div class="tab-pane fade show active" id="nav-login" role="tabpanel" aria-labelledby="nav-login-tab">
                  <div class="login-input">
                    <form id="register-form" method="POST" enctype="multipart/form-data" th:object="${user}" onsubmit="return true">
                      <div class="login-input-item">
                        <input id="email" name="email" th:field="*{email}" type="email" placeholder="Email" class="form-control" required>
                      </div>
                      <div class="login-input-item">
                        <input id="ho" name="ho" th:field="*{ho}" type="text" placeholder="Họ" class="form-control" pattern="[a-z\sA-ZÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ]{1,255}" required>
                      </div>
                      <div class="login-input-item">
                        <input id="ten" name="ten" type="text" th:field="*{ten}" placeholder="Tên đệm và tên" class="form-control" pattern="[a-z\sA-ZÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ]{1,255}" required>
                      </div>
                      <div class="form-check">
                        <div style="display: inline-flex">
                          <div>
                            <input class="form-check-input" type="radio" name="gender" id="gender1" value="Female">
                            <label class="form-check-label" for="gender1" style="font-size: 16px">
                              Nữ
                            </label>
                          </div>
                          <div>
                            <input class="form-check-input" type="radio" name="gender" id="gender2" value="Male">
                            <label class="form-check-label" for="gender1" style="font-size: 16px">
                              Nam
                            </label>
                          </div>
                        </div>
                      </div>
                      <div class="login-input-item">
                        <input id="sdt" name="phone" type="text" th:field="*{phone}" placeholder="Số điện thoại" class="form-control" required pattern="[0]{1}[0-9]{3}[0-9]{3}[0-9]{3}">
                      </div>
                      <div class="login-input-item">
                        <input name="password" id="password" th:field="*{password}" type="password" placeholder="Mật khẩu" class="form-control" required>
                      </div>
                      <div class="login-input-item">
                        <input name="confirm_password" id="confirm_password" type="password" placeholder="Nhập lại mật khẩu" class="form-control">
                      </div>
                      <div class="login-input-item">
                        <input type="file" class="form-control-file" style="padding:0" id="file" name="file" th:field="*{file}">
                      </div>
                      <div class="btn">
                        <button type="submit" data-toggle="modal" data-target="#exampleModalCenter" onclick="return regist()">ĐĂNG KÝ</button>
                      </div>
                      <b th:text="${errRegist}" style="color:#a50000;font-size: 16px !important;"></b>
                      <b id="message" style="font-size: 16px"></b>
                    </form>

                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!--MODAL QUÊN MẬT KHẨU-->
<!--<div class="modal fade" id="emailModal" tabindex="-1" role="dialog" aria-labelledby="emailModalLabel" aria-hidden="true">-->
<!--  <div class="modal-dialog" role="document">-->
<!--    <div class="modal-content">-->
<!--      <div class="modal-header">-->
<!--        <h5 class="modal-title" id="editModalLabel">QUÊN MẬT KHẨU</h5>-->
<!--        <button type="button" class="close" data-dismiss="modal" aria-label="Close">-->
<!--          <span aria-hidden="true">&times;</span>-->
<!--        </button>-->
<!--      </div>-->
<!--      <div class="modal-body">-->
<!--        <form class="needs-validation" novalidate >-->
<!--          <div class="form-group" style="font-style: 18px">-->
<!--            <label for="emailsend" class="col-form-label">Email</label>-->
<!--            <input style="height: 40px" required type="email" class="form-control is-invalid" id="emailsend" name="email">-->
<!--          </div>-->
<!--        </form>-->
<!--        <div class="modal-footer">-->
<!--          <button type="button" class="btn btn-secondary" data-dismiss="modal" id="huyemail">Hủy</button>-->
<!--          <button class="btn btn-primary" id="sendemail" onclick="sendemail()">Gửi</button>-->
<!--        </div>-->

<!--      </div>-->

<!--    </div>-->
<!--  </div>-->
<!--</div>-->


<!--MODAL AFTER REGIST SUCCESS -->
<script>
  $('#password, #confirm_password').on('keyup', function () {
    if ($('#password').val() == $('#confirm_password').val()) {
      $('#message').html('Hợp lệ').css('color', 'green');
    } else
      $('#message').html('Không hợp lệ').css('color', 'red');
  });


  var radioButtonGroupGender = document.getElementsByName("gender");
  function regist()
  {
    if ($('#password').val() != $('#confirm_password').val() || $("#file").val()=='')
    {
      return false;
    }

    $(document).ready(function()
    {
      $.ajax({
        type: 'POST',
        url: '/log',
        data: {
          ho:$('#email').val(),
          ten:$('#ten').val(),
          email:$('#email').val(),
          phone:$('#sdt').val(),
          password:$('#password').val(),
          gender:Array.from(radioButtonGroupGender).find(
                  (radio) => radio.checked
          ).value,
        },
        success: function(text)
        {
          return true;
        },
        error: function (jqXHR) {
          return false;
        }
      });
    });
  }

  function sendemail()
  {
    $.ajax({
      type: 'POST',
      url: 'http://localhost:8080/forgot',
      data: {
        email:$('#emailsend').val()
      },
      success: function(response)
      {
        console.log(response)
      },
      error: function () {
        console.log("lỗi")
      }
    });
  }

</script>
</body>
</html>